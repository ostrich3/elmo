## An element of the kit

This element is part of a kit, which is composed of : 

* [Analog board](https://www.tindie.com/products/kelu124/ultrasound-imaging-analog-processing-module/)
* [20Msps ADC pHAT](https://www.tindie.com/products/kelu124/20msps-adc-cape-for-raspberry-pi/)
* [High voltage pulser](https://www.tindie.com/products/kelu124/ultrasound-imaging-pulser-module/)

A [single-design board](https://github.com/kelu124/un0rick) going up to 64Msps, with a 2000 lines capacity, will be made available soon. Don't hesitate to drop me a message if you are curious.

__ Headers are not included!__

## What is it?

### Introduction

Who doesn't need a quick and dirty ADC pHAT for her/his pi, especially these small wireless marvels? I know I need one, for trigger-based, burst action.

![](https://raw.githubusercontent.com/kelu124/echomods/master/include/20180216a/images/IMG_20180217_182252.jpg)

It's a ADC pHAT ... 2x ADC interleaved.

Testing the module with the signal emulator module, which yields a signal at 1.9MHz, it well seen at 1.9MHz, with a sampling speed equal to two times this freq, ie 24Msps ! See the results [here.](https://github.com/kelu124/echomods/raw/master/elmo/data/twoadcs.jpg)

### Features

* There is a 3x1 header, which allows for choosing to offset the signal by Vref/2 if needed
* There is a 3x2 header, to select the input: either a pin of the RPi, or the header, or GND for calib

## Code

* [https://github.com/kelu124/echomods/blob/master/elmo/data/scope.c](https://github.com/kelu124/echomods/blob/master/elmo/data/scope.c) is the module code
* [https://github.com/kelu124/echomods/blob/master/elmo/data/run.sh](https://github.com/kelu124/echomods/blob/master/elmo/data/run.sh) is used to load the module

## Pins from the ADCs

The two interleaved ADCs are connected to the GPIOs of the ADC.

On the clock generated by GPIO4, one ADC samples and extracts 9 bits of info, the other half a cycle later, again on 9 bits.
This info is extracted through a /dev/ device, managed by a kernel module.

## Why did you make it?

I needed a fast ADC for [ultrasound imaging](https://kelu124.gitbooks.io/echomods/content/RPI.html) -- [full doc here](https://kelu124.gitbooks.io/echomods/).

## What makes it special?

Nothing similar had been done so far for the Raspberry Pi.

![](https://raw.githubusercontent.com/kelu124/echomods/master/elmo/images/20180414_224236.jpg)

## Special care

See the [quickstart guide](https://github.com/kelu124/echomods/blob/master/elmo/QuickStart.md) beforehand =)

## Shipping

* Now that the pHAT design is stabilized, it's being produced by MacroFab - which does the fulfillment.
* Attention: __The board comes without headers/jumpers__ .. up to you to put yours!

## Disclaimer

This project is distributed WITHOUT ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING OF MERCHANTABILITY, SATISFACTORY QUALITY AND FITNESS FOR A PARTICULAR PURPOSE.
